<html>
<link rel="stylesheet" href="static/css/bootstrap.min.css">
<link rel="stylesheet" href="static/css/order-manager.css">

<body>
    <div class="container">
        <h1> Know your Vegetables</h1>
        <div class="row">
            <div class="card bg-light text-dark col-md-12" align="center">
                <%=  %>
                    <br/>
                    <div class="table-responsive">
                        <table class="table-striped">
                            <tbody>
                                <thead>
                                    <th>Item</th>
                                    <th>Farm</th>
                                    <th>Harvest Time</th>
                                </thead>
                                <% for(var j=0; j<result.length; j++) {%>
                                    <tr>
                                        <td>
                                            <%= result[j].name %>
                                        </td>
                                        <td>
                                            <%= result[j].sourced_from %>
                                        </td>
                                        <td>
                                            <%= formatDate(new Date(result[j].harvest_time)) %>
                                        </td>
                                    </tr>
                                    <%  } %>
                            </tbody>
                        </table>
                    </div>
            </div>
        </div>
    </div>
</body>

</html>
<%
function formatDate(date) {
    var monthNames = [
        "January", "February", "March",
        "April", "May", "June", "July",
        "August", "September", "October",
        "November", "December"
    ];

    var day = date.getDate();
    var monthIndex = date.getMonth();
    var year = date.getFullYear();

    var hrs = date.getHours();
    var min = date.getMinutes();

    return day + ' ' + monthNames[monthIndex] + ' ' + year + ' ' + hrs + ':'+ min;
}
%>